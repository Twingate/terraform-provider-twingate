---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "twingate_resource Resource - terraform-provider-twingate"
subcategory: ""
description: |-
  Resources in Twingate represent servers on the private network that clients can connect to. Resources can be defined by IP, CIDR range, FQDN, or DNS zone. For more information, see the Twingate documentation https://docs.twingate.com/docs/resources-and-access-nodes.
---

# twingate_resource (Resource)

Resources in Twingate represent servers on the private network that clients can connect to. Resources can be defined by IP, CIDR range, FQDN, or DNS zone. For more information, see the Twingate [documentation](https://docs.twingate.com/docs/resources-and-access-nodes).

## Example Usage

```terraform
provider "twingate" {
  api_token = "1234567890abcdef"
  network   = "mynetwork"

  default_tags = {
    tags = {
      managed-by = "Terraform"
      owner = "DevOps"
      cloud = "AWS"
    }
  }

  cache = {
    groups_enabled = false
    resources_filter = {
      name_prefix = "prod-"

      tags = {
        cloud = "AWS"
      }
    }
  }
}

resource "twingate_remote_network" "aws_network" {
  name = "aws_remote_network"
}

resource "twingate_group" "aws" {
  name = "aws_group"
}

data "twingate_group" "security" {
  id = "securityGroupID"
}

data "twingate_groups" "devops" {
  name_contains = "DevOps"
}

data "twingate_groups" "sre" {
  name_contains = "SRE"
}

resource "twingate_service_account" "github_actions_prod" {
  name = "Github Actions PROD"
}

data "twingate_security_policy" "test_policy" {
  name = "Test Policy"
}

resource "twingate_resource" "resource" {
  name              = "network"
  address           = "internal.int"
  remote_network_id = twingate_remote_network.aws_network.id

  security_policy_id = data.twingate_security_policy.test_policy.id
  approval_mode      = "MANUAL"
  usage_based_autolock_duration_days = 15

  protocols = {
    allow_icmp = true
    tcp = {
      policy = "RESTRICTED"
      ports  = ["80", "82-83"]
    }
    udp = {
      policy = "ALLOW_ALL"
    }
  }

  // Adding a single group via `access_group`
  access_group {
    group_id                           = twingate_group.aws.id
    security_policy_id                 = data.twingate_security_policy.test_policy.id
    usage_based_autolock_duration_days = 30
    approval_mode                      = "AUTOMATIC"
  }

  // Adding multiple groups by individual ID
  dynamic "access_group" {
    for_each = toset([twingate_group.aws.id, data.twingate_group.security.id])
    content {
      group_id                           = access_group.value
      security_policy_id                 = data.twingate_security_policy.test_policy.id
      usage_based_autolock_duration_days = 30
    }
  }

  // Adding multiple groups from twingate_groups data sources
  dynamic "access_group" {
    for_each = setunion(
      data.twingate_groups.devops.groups[*].id,
      data.twingate_groups.sre.groups[*].id,
      // Single IDs can be added by wrapping them in a set
      toset([data.twingate_group.security.id])
    )
    content {
      group_id                           = access_group.value
      security_policy_id                 = data.twingate_security_policy.test_policy.id
      usage_based_autolock_duration_days = 30

    }
  }

  // Service account access is specified similarly
  // A `for_each` block may be used like above to assign access to multiple
  // service accounts in a single configuration block.
  access_service {
    service_account_id = twingate_service_account.github_actions_prod.id
  }

  is_active = true

  tags = {
    environment = "dev"
    owner       = "devops"
    project     = "api"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `address` (String) The Resource's IP/CIDR or FQDN/DNS zone
- `name` (String) The name of the Resource
- `remote_network_id` (String) Remote Network ID where the Resource lives

### Optional

- `access_group` (Block Set) Restrict access to certain group (see [below for nested schema](#nestedblock--access_group))
- `access_service` (Block Set) Restrict access to certain service account (see [below for nested schema](#nestedblock--access_service))
- `alias` (String) Set a DNS alias address for the Resource. Must be a DNS-valid name string.
- `approval_mode` (String) This will set the approval model for the Resource. The valid values are `AUTOMATIC` and `MANUAL`.
- `is_active` (Boolean) Set the resource as active or inactive. Default is `true`.
- `is_authoritative` (Boolean) Determines whether assignments in the access block will override any existing assignments. Default is `true`. If set to `false`, assignments made outside of Terraform will be ignored.
- `is_browser_shortcut_enabled` (Boolean) Controls whether an "Open in Browser" shortcut will be shown for this Resource in the Twingate Client. Default is `false`.
- `is_visible` (Boolean) Controls whether this Resource will be visible in the main Resource list in the Twingate Client. Default is `true`.
- `protocols` (Attributes) Restrict access to certain protocols and ports. By default or when this argument is not defined, there is no restriction, and all protocols and ports are allowed. (see [below for nested schema](#nestedatt--protocols))
- `security_policy_id` (String) The ID of a `twingate_security_policy` to set as this Resource's Security Policy. Default is `Default Policy`.
- `tags` (Map of String) A map of key-value pair tags to set on this resource.
- `usage_based_autolock_duration_days` (Number) The usage-based auto-lock duration for the Resource (in days).

### Read-Only

- `id` (String) Autogenerated ID of the Resource, encoded in base64
- `tags_all` (Map of String) A map of key-value pairs that represents all tags on this resource, including default tags from provider configuration.

<a id="nestedblock--access_group"></a>
### Nested Schema for `access_group`

Optional:

- `approval_mode` (String) This will set the approval model on the edge. The valid values are `AUTOMATIC` and `MANUAL`.
- `group_id` (String) Group ID that will have permission to access the Resource.
- `security_policy_id` (String) The ID of a `twingate_security_policy` to use as the access policy for the group IDs in the access block.
- `usage_based_autolock_duration_days` (Number) The usage-based auto-lock duration configured on the edge (in days).


<a id="nestedblock--access_service"></a>
### Nested Schema for `access_service`

Optional:

- `service_account_id` (String) The ID of the service account that should have access to this Resource.


<a id="nestedatt--protocols"></a>
### Nested Schema for `protocols`

Optional:

- `allow_icmp` (Boolean) Whether to allow ICMP (ping) traffic
- `tcp` (Attributes) (see [below for nested schema](#nestedatt--protocols--tcp))
- `udp` (Attributes) (see [below for nested schema](#nestedatt--protocols--udp))

<a id="nestedatt--protocols--tcp"></a>
### Nested Schema for `protocols.tcp`

Optional:

- `policy` (String) Whether to allow or deny all ports, or restrict protocol access within certain port ranges: Can be `RESTRICTED` (only listed ports are allowed), `ALLOW_ALL`, or `DENY_ALL`
- `ports` (Set of String) List of port ranges between 1 and 65535 inclusive, in the format `100-200` for a range, or `8080` for a single port


<a id="nestedatt--protocols--udp"></a>
### Nested Schema for `protocols.udp`

Optional:

- `policy` (String) Whether to allow or deny all ports, or restrict protocol access within certain port ranges: Can be `RESTRICTED` (only listed ports are allowed), `ALLOW_ALL`, or `DENY_ALL`
- `ports` (Set of String) List of port ranges between 1 and 65535 inclusive, in the format `100-200` for a range, or `8080` for a single port

## Import

Import is supported using the following syntax:

```shell
terraform import twingate_resource.resource UmVzb3VyY2U6MzQwNDQ3
```
